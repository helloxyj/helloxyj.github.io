<!DOCTYPE html>

<html lang="zh-cn">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>小眼睛的自言自语</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="http://blog.xyj.name/css/main.min.03322cbe6bddfc28e7b17b84bc5446282a510b14b57be3371ba1f68ef1ab9ce8.css"/>

    
    
    

    
    
 
    
    
</head>
    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="/">小眼睛的自言自语</a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="/tags">Tags</a>
  
    <a class="color-link nav-link" href="/categories">Categories</a>
  
  <a class="color-link nav-link" href="http://blog.xyj.name/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/helloxyj/helloxyj.github.io" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    
</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="http://blog.xyj.name/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">Octave简单应用(一)</h1>
    <time>May 31, 2016</time>
    <div>
        <p>
        <p><img src="http://ww2.sinaimg.cn/mw690/6f4077f3jw1f4eedagp71j203r03rjrb.jpg" alt="Octave" title="Octave"></p>
<blockquote>
<p><a href="http://wiki.octave.org/GNU_Octave_Wiki">Octave</a> 是一个旨在提供与Matlab语法兼容的开放源代码科学计算及数值分析的工具；它提供了方便的互动命令列接口来解决线性与非线性的数值运算问题，并可将计算结果可视化，与高价的商业软体MATLAB语法几乎兼容</p>
</blockquote>
<h2 id="环境搭建">环境搭建</h2>
<h3 id="安装octave">安装octave</h3>
<p>Mac OSX平台下，用神器Homebrew安装</p>
<pre><code>brew tap homebrew/science
brew update &amp;&amp; brew upgrade 
brew install octave 
</code></pre><p>安装完成看到如下提示：</p>
<pre><code>setenv('GNUTERM','qt')    # Requires QT; install gnuplot --with-qt
setenv('GNUTERM','x11')   # Requires XQuartz; install gnuplot --with-x11
setenv('GNUTERM','wxt')   # Requires wxmac; install gnuplot --with-wxmac
setenv('GNUTERM','aqua')  # Requires AquaTerm; install gnuplot --with-aquaterm
</code></pre><p>这里提示我们要设置默认的graphics toolkit。首先选择GUI的展示基于那种框架，我选择x11。安装gnuplot：</p>
<p><code>brew install gnuplot --with-x11</code></p>
<h3 id="配置">配置</h3>
<p>在 .bash_profile种添加环境变量</p>
<pre><code>export FONTCONFIG_PATH=/opt/X11/lib/X11/fontconfig 
</code></pre><p>配置默认的graphics toolkit ，在配置文件
<code>/usr/local/share/octave/site/m/startup/octaverc</code> 中添加 <code>setenv('GNUTERM','x11')</code></p>
<h3 id="启动">启动</h3>
<p>直接命令行执行octave ，或者保存成脚本，打开脚本编辑器新加脚本</p>
<pre><code>tell application &quot;Terminal&quot;
 do script &quot;`which octave`; exit&quot;
end tell
</code></pre><p>保存成octave.app，在Launchapad中可以看到octave.app的图标，点击即可打开ocatave</p>
<p>在命令窗口种安装需要的package，比如image：</p>
<p><code>pkg install -forge image</code></p>
<h3 id="简单操作">简单操作</h3>
<ul>
<li>矩阵操作</li>
</ul>
<p><img src="http://ww1.sinaimg.cn/mw690/6f4077f3jw1f4ecnkt3spj20aw0dpgm1.jpg" alt="矩阵操作" title="矩阵操作"></p>
<ul>
<li>函数图像</li>
</ul>
<p><img src="http://ww3.sinaimg.cn/mw690/6f4077f3jw1f4ecunwoebj20gk0glt9u.jpg" alt="函数图像" title="函数图像"></p>
<h2 id="几种滤波器实现">几种滤波器实现</h2>
<h3 id="均值滤波器">均值滤波器</h3>
<p>原理：</p>
<p>均值滤波也称为线性滤波，其采用的主要方法为邻域平均法。线性滤波的基本原理是用均值代替原图像中的各个像素值，即对待处理的当前像素点（x，y），选择一个模板，该模板由其近邻的若干像素组成，求模板中所有像素的均值，再把该均值赋予当前像素点（x，y），作为处理后图像在该点上的灰度g（x，y），即g（x，y）=1/m ∑f（x，y） m为该模板中包含当前像素在内的像素总个数。</p>
<p>实现：</p>
<pre><code>function [retval] = avg_filter (matrix,n)
##转成double计算
rst = double(matrix);
[row, column] = size(matrix);
model(1:n,1:n) = 1
for i=1:row-n+1
  for j=1:column-n+1
    c = rst(i:i+(n-1),j:j+(n-1)).*model;
    s = sum(sum(c));
    #模板内像素平均值
    rst(i+(n-1)/2,j+(n-1)/2) = s/(n*n);
  end
end
retval = uint8(rst);
endfunction
</code></pre><p>缺点：</p>
<p>它不能很好地保护图像细节，在图像去噪的同时也破坏了图像的细节部分，从而使图像变得模糊，不能很好地去除噪声点</p>
<p>示例：</p>
<p>原始图片</p>
<p><img src="http://ww2.sinaimg.cn/mw690/6f4077f3jw1f4ed599leaj20c1090js0.jpg" alt="原始图片" title="原始图片"></p>
<p>结果图片</p>
<p><img src="http://ww3.sinaimg.cn/mw690/6f4077f3jw1f4ed59ml2dj20by08wmxo.jpg" alt="结果图片" title="结果图片"></p>
<h3 id="中值滤波器">中值滤波器</h3>
<p>原理：</p>
<p>中值滤波是基于排序统计理论的一种能有效抑制噪声的非线性信号处理技术，中值滤波的基本原理是把数字图像或数字序列中一点的值用该点的一个邻域中各点值的中值代替，让周围的像素值接近的真实值，从而消除孤立的噪声点。方法是用某种结构的二维滑动模板，将板内像素按照像素值的大小进行排序，生成单调上升（或下降）的为二维数据序列。二维中值滤波输出为g（x,y）=med{f(x-k,y-l),(k,l∈W)} ，其中，f(x,y)，g(x,y)分别为原始图像和处理后图像。W为二维模板，通常为3*3，5*5区域，也可以是不同的的形状，如线状，圆形，十字形，圆环形等。</p>
<p>实现：</p>
<pre><code>function [retval] = middle_filter (matrix,n)
#转成double计算
rst=double(matrix);
[row, column]=size(matrix);
for i=1:row-n+1
  for j=1:row-n+1
    #取出从(i,j)开始的n行n列元素,即模板(n×n的)
    col = rst(i:i+(n-1),j:j+(n-1));
    #将分块矩阵变为一个行矩阵
    tmp = []
    for index=1:n
      tmp=[tmp,col(index,:)];
    end
    #求中值
    mm=median(tmp);
    rst(i+(n-1)/2,j+(n-1)/2)=mm;
  end
end
#转成uint输出
retval = uint8(rst);
endfunction
</code></pre><p>缺点：
基于图像滤波器所包围区域中像素（灰度）的排序，选择适当的点来替代污染点的值，所以处理效果好。因为噪声的均值不为0，所以均值滤波不能很好地去除噪声点</p>
<p>示例：</p>
<p>原始图片(被脉冲噪声污染的电路板的图像)</p>
<p><img src="http://ww2.sinaimg.cn/mw690/6f4077f3jw1f4eb1ce8mdj20cn0c8tcw.jpg" alt="原始图片" title="原始图片"></p>
<p>处理之后</p>
<p><img src="http://ww4.sinaimg.cn/mw690/6f4077f3jw1f4eb1bycogj20cn0c8mxv.jpg" alt="处理之后" title="处理之后"></p>
<p>（—— 同时发于简书）</p>

        </p>
    </div>
    

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="/tags/%E4%BA%A7%E5%93%81%E4%B8%8E%E6%8A%80%E6%9C%AF">#产品与技术</a>
        
      
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/helloxyj/helloxyj.github.io" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    
    

    
</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="http://blog.xyj.name/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>