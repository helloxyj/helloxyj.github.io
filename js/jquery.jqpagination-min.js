(function(a){a.jqPagination=function(c,b){var d=this;d.$el=a(c);d.el=c;d.$input=d.$el.find("input");d.$el.data("jqPagination",d);d.init=function(){d.options=a.extend({},a.jqPagination.defaultOptions,b);if(d.options.max_page===null){if(d.$input.data("max-page")!==undefined){d.options.max_page=d.$input.data("max-page")}else{d.options.max_page=1}}if(d.$input.data("current-page")!==undefined&&d.isNumber(d.$input.data("current-page"))){d.options.current_page=d.$input.data("current-page")}d.$input.removeAttr("readonly");d.updateInput(true);d.$input.on("focus.jqPagination mouseup.jqPagination",function(e){if(e.type==="focus"){var f=parseInt(d.options.current_page,10);a(this).val(f).select()}if(e.type==="mouseup"){return false}});d.$input.on("blur.jqPagination keydown.jqPagination",function(e){var g=a(this),f=parseInt(d.options.current_page,10);if(e.keyCode===27){g.val(f);g.blur()}if(e.keyCode===13){g.blur()}if(e.type==="blur"){d.setPage(g.val())}});d.$el.on("click.jqPagination","a",function(e){var f=a(this);if(f.hasClass("disabled")){return false}return true})};d.setPage=function(g,f){if(g===undefined){return d.options.current_page}var h=parseInt(d.options.current_page,10),e=parseInt(d.options.max_page,10);if(isNaN(parseInt(g,10))){switch(g){case"first":g=1;break;case"prev":case"previous":g=h-1;break;case"next":g=h+1;break;case"last":g=e;break}}g=parseInt(g,10);if(isNaN(g)||g<1||g>e){d.setInputValue(h);return false}d.options.current_page=g;d.$input.data("current-page",g);d.updateInput(f)};d.setMaxPage=function(e,f){if(e===undefined){return d.options.max_page}if(!d.isNumber(e)){console.error("jqPagination: max_page is not a number");return false}if(e<d.options.current_page){console.error("jqPagination: max_page lower than current_page");return false}d.options.max_page=e;d.$input.data("max-page",e);d.updateInput(f)};d.updateInput=function(e){var f=parseInt(d.options.current_page,10);d.setInputValue(f);d.setLinks(f);if(e!==true){d.options.paged(f)}};d.setInputValue=function(f){var g=d.options.page_string,e=d.options.max_page;g=g.replace("{current_page}",f).replace("{max_page}",e);d.$input.val(g)};d.isNumber=function(e){return !isNaN(parseFloat(e))&&isFinite(e)};d.setLinks=function(h){var j=d.options.link_string,i=parseInt(d.options.current_page,10),e=parseInt(d.options.max_page,10);if(j!==""){var g=i-1;if(g<1){g=1}var f=i+1;if(f>e){f=e}d.$el.find("a.first").attr("href",j.replace("{page_number}","1"));d.$el.find("a.prev, a.previous").attr("href",j.replace("{page_number}",g));d.$el.find("a.next").attr("href",j.replace("{page_number}",f));d.$el.find("a.last").attr("href",j.replace("{page_number}",e))}d.$el.find("a").removeClass("disabled");if(i===e){d.$el.find(".next, .last").addClass("disabled")}if(i===1){d.$el.find(".previous, .first").addClass("disabled")}};d.callMethod=function(j,h,i){switch(j.toLowerCase()){case"option":if(i===undefined&&typeof h!=="object"){return d.options[h]}var g={"trigger":true},e=false;if(a.isPlainObject(h)&&!i){a.extend(g,h)}else{g[h]=i}var f=(g.trigger===false);if(g.current_page!==undefined){e=d.setPage(g.current_page,f)}if(g.max_page!==undefined){e=d.setMaxPage(g.max_page,f)}if(e===false){console.error("jqPagination: cannot get / set option "+h)}return e;break;case"destroy":d.$el.off(".jqPagination").find("*").off(".jqPagination");break;default:console.error('jqPagination: method "'+j+'" does not exist');return false}};d.init()};a.jqPagination.defaultOptions={current_page:1,link_string:"",max_page:null,page_string:"Page {current_page} of {max_page}",paged:function(){}};a.fn.jqPagination=function(){var c=this,e=a(c),d=Array.prototype.slice.call(arguments),b=false;if(typeof d[0]==="string"){if(d[2]===undefined){b=e.first().data("jqPagination").callMethod(d[0],d[1])}else{e.each(function(){b=a(this).data("jqPagination").callMethod(d[0],d[1],d[2])})}return b}c.each(function(){(new a.jqPagination(this,d[0]))})}})(jQuery);if(!console){var console={},func=function(){return false};console.log=func;console.info=func;console.warn=func;console.error=func};